package simple.n.fast.date;

import java.util.Date;
import java.util.TimeZone;

public class DateFormatter {

    private static TimeZone DEFAULT_TIME_ZONE = TimeZone.getDefault();

    static char[][] years = { { '1', '9', '7', '0' }, { '1', '9', '7', '1' }, { '1', '9', '7', '2' }, { '1', '9', '7', '3' }, { '1', '9', '7', '4' }, { '1', '9', '7', '5' }, { '1', '9', '7', '6' }, { '1', '9', '7', '7' }, { '1', '9', '7', '8' }, { '1', '9', '7', '9' }, { '1', '9', '8', '0' }, { '1', '9', '8', '1' }, { '1', '9', '8', '2' }, { '1', '9', '8', '3' }, { '1', '9', '8', '4' }, { '1', '9', '8', '5' }, { '1', '9', '8', '6' }, { '1', '9', '8', '7' }, { '1', '9', '8', '8' }, { '1', '9', '8', '9' }, { '1', '9', '9', '0' }, { '1', '9', '9', '1' }, { '1', '9', '9', '2' }, { '1', '9', '9', '3' }, { '1', '9', '9', '4' }, { '1', '9', '9', '5' }, { '1', '9', '9', '6' }, { '1', '9', '9', '7' }, { '1', '9', '9', '8' }, { '1', '9', '9', '9' }, { '2', '0', '0', '0' }, { '2', '0', '0', '1' }, { '2', '0', '0', '2' }, { '2', '0', '0', '3' }, { '2', '0', '0', '4' }, { '2', '0', '0', '5' }, { '2', '0', '0', '6' }, { '2', '0', '0', '7' }, { '2', '0', '0', '8' }, { '2', '0', '0', '9' }, { '2', '0', '1', '0' }, { '2', '0', '1', '1' }, { '2', '0', '1', '2' }, { '2', '0', '1', '3' }, { '2', '0', '1', '4' }, { '2', '0', '1', '5' }, { '2', '0', '1', '6' }, { '2', '0', '1', '7' }, { '2', '0', '1', '8' }, { '2', '0', '1', '9' }, { '2', '0', '2', '0' }, { '2', '0', '2', '1' }, { '2', '0', '2', '2' }, { '2', '0', '2', '3' }, { '2', '0', '2', '4' }, { '2', '0', '2', '5' }, { '2', '0', '2', '6' }, { '2', '0', '2', '7' }, { '2', '0', '2', '8' }, { '2', '0', '2', '9' }, { '2', '0', '3', '0' }, { '2', '0', '3', '1' }, { '2', '0', '3', '2' }, { '2', '0', '3', '3' }, { '2', '0', '3', '4' }, { '2', '0', '3', '5' }, { '2', '0', '3', '6' }, { '2', '0', '3', '7' }, { '2', '0', '3', '8' }, { '2', '0', '3', '9' }, { '2', '0', '4', '0' }, { '2', '0', '4', '1' }, { '2', '0', '4', '2' }, { '2', '0', '4', '3' }, { '2', '0', '4', '4' }, { '2', '0', '4', '5' }, { '2', '0', '4', '6' }, { '2', '0', '4', '7' }, { '2', '0', '4', '8' }, { '2', '0', '4', '9' }, { '2', '0', '5', '0' }, { '2', '0', '5', '1' }, { '2', '0', '5', '2' }, { '2', '0', '5', '3' }, { '2', '0', '5', '4' }, { '2', '0', '5', '5' }, { '2', '0', '5', '6' }, { '2', '0', '5', '7' }, { '2', '0', '5', '8' }, { '2', '0', '5', '9' }, { '2', '0', '6', '0' }, { '2', '0', '6', '1' }, { '2', '0', '6', '2' }, { '2', '0', '6', '3' }, { '2', '0', '6', '4' }, { '2', '0', '6', '5' }, { '2', '0', '6', '6' }, { '2', '0', '6', '7' }, { '2', '0', '6', '8' }, { '2', '0', '6', '9' } };

    static long[] yearsMillis = { 0L, 31536000000L, 63072000000L, 94694400000L, 126230400000L, 157766400000L, 189302400000L, 220924800000L, 252460800000L, 283996800000L, 315532800000L, 347155200000L, 378691200000L, 410227200000L, 441763200000L, 473385600000L, 504921600000L, 536457600000L, 567993600000L, 599616000000L, 631152000000L, 662688000000L, 694224000000L, 725846400000L, 757382400000L, 788918400000L, 820454400000L, 852076800000L, 883612800000L, 915148800000L, 946684800000L, 978307200000L, 1009843200000L, 1041379200000L, 1072915200000L, 1104537600000L, 1136073600000L, 1167609600000L, 1199145600000L, 1230768000000L, 1262304000000L, 1293840000000L, 1325376000000L, 1356998400000L, 1388534400000L, 1420070400000L, 1451606400000L, 1483228800000L, 1514764800000L, 1546300800000L, 1577836800000L, 1609459200000L, 1640995200000L, 1672531200000L, 1704067200000L, 1735689600000L, 1767225600000L, 1798761600000L, 1830297600000L, 1861920000000L, 1893456000000L, 1924992000000L, 1956528000000L, 1988150400000L, 2019686400000L, 2051222400000L, 2082758400000L, 2114380800000L, 2145916800000L, 2177452800000L, 2208988800000L, 2240611200000L, 2272147200000L, 2303683200000L, 2335219200000L, 2366841600000L, 2398377600000L, 2429913600000L, 2461449600000L, 2493072000000L, 2524608000000L, 2556144000000L, 2587680000000L, 2619302400000L, 2650838400000L, 2682374400000L, 2713910400000L, 2745532800000L, 2777068800000L, 2808604800000L, 2840140800000L, 2871763200000L, 2903299200000L, 2934835200000L, 2966371200000L, 2997993600000L, 3029529600000L, 3061065600000L, 3092601600000L, 3124224000000L };

    static boolean[] leapYears = { false, false, true, false, false, false, true, false, false, false, true, false, false, false, true, false, false, false, true, false, false, false, true, false, false, false, true, false, false, false, true, false, false, false, true, false, false, false, true, false, false, false, true, false, false, false, true, false, false, false, true, false, false, false, true, false, false, false, true, false, false, false, true, false, false, false, true, false, false, false, true, false, false, false, true, false, false, false, true, false, false, false, true, false, false, false, true, false, false, false, true, false, false, false, true, false, false, false, true, false };

    static char[][] days = { { '0', '1', '0', '1' }, { '0', '1', '0', '2' }, { '0', '1', '0', '3' }, { '0', '1', '0', '4' }, { '0', '1', '0', '5' }, { '0', '1', '0', '6' }, { '0', '1', '0', '7' }, { '0', '1', '0', '8' }, { '0', '1', '0', '9' }, { '0', '1', '1', '0' }, { '0', '1', '1', '1' }, { '0', '1', '1', '2' }, { '0', '1', '1', '3' }, { '0', '1', '1', '4' }, { '0', '1', '1', '5' }, { '0', '1', '1', '6' }, { '0', '1', '1', '7' }, { '0', '1', '1', '8' }, { '0', '1', '1', '9' }, { '0', '1', '2', '0' }, { '0', '1', '2', '1' }, { '0', '1', '2', '2' }, { '0', '1', '2', '3' }, { '0', '1', '2', '4' }, { '0', '1', '2', '5' }, { '0', '1', '2', '6' }, { '0', '1', '2', '7' }, { '0', '1', '2', '8' }, { '0', '1', '2', '9' }, { '0', '1', '3', '0' }, { '0', '1', '3', '1' },
            { '0', '2', '0', '1' }, { '0', '2', '0', '2' }, { '0', '2', '0', '3' }, { '0', '2', '0', '4' }, { '0', '2', '0', '5' }, { '0', '2', '0', '6' }, { '0', '2', '0', '7' }, { '0', '2', '0', '8' }, { '0', '2', '0', '9' }, { '0', '2', '1', '0' }, { '0', '2', '1', '1' }, { '0', '2', '1', '2' }, { '0', '2', '1', '3' }, { '0', '2', '1', '4' }, { '0', '2', '1', '5' }, { '0', '2', '1', '6' }, { '0', '2', '1', '7' }, { '0', '2', '1', '8' }, { '0', '2', '1', '9' }, { '0', '2', '2', '0' }, { '0', '2', '2', '1' }, { '0', '2', '2', '2' }, { '0', '2', '2', '3' }, { '0', '2', '2', '4' }, { '0', '2', '2', '5' }, { '0', '2', '2', '6' }, { '0', '2', '2', '7' }, { '0', '2', '2', '8' },
            { '0', '3', '0', '1' }, { '0', '3', '0', '2' }, { '0', '3', '0', '3' }, { '0', '3', '0', '4' }, { '0', '3', '0', '5' }, { '0', '3', '0', '6' }, { '0', '3', '0', '7' }, { '0', '3', '0', '8' }, { '0', '3', '0', '9' }, { '0', '3', '1', '0' }, { '0', '3', '1', '1' }, { '0', '3', '1', '2' }, { '0', '3', '1', '3' }, { '0', '3', '1', '4' }, { '0', '3', '1', '5' }, { '0', '3', '1', '6' }, { '0', '3', '1', '7' }, { '0', '3', '1', '8' }, { '0', '3', '1', '9' }, { '0', '3', '2', '0' }, { '0', '3', '2', '1' }, { '0', '3', '2', '2' }, { '0', '3', '2', '3' }, { '0', '3', '2', '4' }, { '0', '3', '2', '5' }, { '0', '3', '2', '6' }, { '0', '3', '2', '7' }, { '0', '3', '2', '8' }, { '0', '3', '2', '9' }, { '0', '3', '3', '0' }, { '0', '3', '3', '1' },
            { '0', '4', '0', '1' }, { '0', '4', '0', '2' }, { '0', '4', '0', '3' }, { '0', '4', '0', '4' }, { '0', '4', '0', '5' }, { '0', '4', '0', '6' }, { '0', '4', '0', '7' }, { '0', '4', '0', '8' }, { '0', '4', '0', '9' }, { '0', '4', '1', '0' }, { '0', '4', '1', '1' }, { '0', '4', '1', '2' }, { '0', '4', '1', '3' }, { '0', '4', '1', '4' }, { '0', '4', '1', '5' }, { '0', '4', '1', '6' }, { '0', '4', '1', '7' }, { '0', '4', '1', '8' }, { '0', '4', '1', '9' }, { '0', '4', '2', '0' }, { '0', '4', '2', '1' }, { '0', '4', '2', '2' }, { '0', '4', '2', '3' }, { '0', '4', '2', '4' }, { '0', '4', '2', '5' }, { '0', '4', '2', '6' }, { '0', '4', '2', '7' }, { '0', '4', '2', '8' }, { '0', '4', '2', '9' }, { '0', '4', '3', '0' },
            { '0', '5', '0', '1' }, { '0', '5', '0', '2' }, { '0', '5', '0', '3' }, { '0', '5', '0', '4' }, { '0', '5', '0', '5' }, { '0', '5', '0', '6' }, { '0', '5', '0', '7' }, { '0', '5', '0', '8' }, { '0', '5', '0', '9' }, { '0', '5', '1', '0' }, { '0', '5', '1', '1' }, { '0', '5', '1', '2' }, { '0', '5', '1', '3' }, { '0', '5', '1', '4' }, { '0', '5', '1', '5' }, { '0', '5', '1', '6' }, { '0', '5', '1', '7' }, { '0', '5', '1', '8' }, { '0', '5', '1', '9' }, { '0', '5', '2', '0' }, { '0', '5', '2', '1' }, { '0', '5', '2', '2' }, { '0', '5', '2', '3' }, { '0', '5', '2', '4' }, { '0', '5', '2', '5' }, { '0', '5', '2', '6' }, { '0', '5', '2', '7' }, { '0', '5', '2', '8' }, { '0', '5', '2', '9' }, { '0', '5', '3', '0' }, { '0', '5', '3', '1' },
            { '0', '6', '0', '1' }, { '0', '6', '0', '2' }, { '0', '6', '0', '3' }, { '0', '6', '0', '4' }, { '0', '6', '0', '5' }, { '0', '6', '0', '6' }, { '0', '6', '0', '7' }, { '0', '6', '0', '8' }, { '0', '6', '0', '9' }, { '0', '6', '1', '0' }, { '0', '6', '1', '1' }, { '0', '6', '1', '2' }, { '0', '6', '1', '3' }, { '0', '6', '1', '4' }, { '0', '6', '1', '5' }, { '0', '6', '1', '6' }, { '0', '6', '1', '7' }, { '0', '6', '1', '8' }, { '0', '6', '1', '9' }, { '0', '6', '2', '0' }, { '0', '6', '2', '1' }, { '0', '6', '2', '2' }, { '0', '6', '2', '3' }, { '0', '6', '2', '4' }, { '0', '6', '2', '5' }, { '0', '6', '2', '6' }, { '0', '6', '2', '7' }, { '0', '6', '2', '8' }, { '0', '6', '2', '9' }, { '0', '6', '3', '0' },
            { '0', '7', '0', '1' }, { '0', '7', '0', '2' }, { '0', '7', '0', '3' }, { '0', '7', '0', '4' }, { '0', '7', '0', '5' }, { '0', '7', '0', '6' }, { '0', '7', '0', '7' }, { '0', '7', '0', '8' }, { '0', '7', '0', '9' }, { '0', '7', '1', '0' }, { '0', '7', '1', '1' }, { '0', '7', '1', '2' }, { '0', '7', '1', '3' }, { '0', '7', '1', '4' }, { '0', '7', '1', '5' }, { '0', '7', '1', '6' }, { '0', '7', '1', '7' }, { '0', '7', '1', '8' }, { '0', '7', '1', '9' }, { '0', '7', '2', '0' }, { '0', '7', '2', '1' }, { '0', '7', '2', '2' }, { '0', '7', '2', '3' }, { '0', '7', '2', '4' }, { '0', '7', '2', '5' }, { '0', '7', '2', '6' }, { '0', '7', '2', '7' }, { '0', '7', '2', '8' }, { '0', '7', '2', '9' }, { '0', '7', '3', '0' }, { '0', '7', '3', '1' },
            { '0', '8', '0', '1' }, { '0', '8', '0', '2' }, { '0', '8', '0', '3' }, { '0', '8', '0', '4' }, { '0', '8', '0', '5' }, { '0', '8', '0', '6' }, { '0', '8', '0', '7' }, { '0', '8', '0', '8' }, { '0', '8', '0', '9' }, { '0', '8', '1', '0' }, { '0', '8', '1', '1' }, { '0', '8', '1', '2' }, { '0', '8', '1', '3' }, { '0', '8', '1', '4' }, { '0', '8', '1', '5' }, { '0', '8', '1', '6' }, { '0', '8', '1', '7' }, { '0', '8', '1', '8' }, { '0', '8', '1', '9' }, { '0', '8', '2', '0' }, { '0', '8', '2', '1' }, { '0', '8', '2', '2' }, { '0', '8', '2', '3' }, { '0', '8', '2', '4' }, { '0', '8', '2', '5' }, { '0', '8', '2', '6' }, { '0', '8', '2', '7' }, { '0', '8', '2', '8' }, { '0', '8', '2', '9' }, { '0', '8', '3', '0' }, { '0', '8', '3', '1' },
            { '0', '9', '0', '1' }, { '0', '9', '0', '2' }, { '0', '9', '0', '3' }, { '0', '9', '0', '4' }, { '0', '9', '0', '5' }, { '0', '9', '0', '6' }, { '0', '9', '0', '7' }, { '0', '9', '0', '8' }, { '0', '9', '0', '9' }, { '0', '9', '1', '0' }, { '0', '9', '1', '1' }, { '0', '9', '1', '2' }, { '0', '9', '1', '3' }, { '0', '9', '1', '4' }, { '0', '9', '1', '5' }, { '0', '9', '1', '6' }, { '0', '9', '1', '7' }, { '0', '9', '1', '8' }, { '0', '9', '1', '9' }, { '0', '9', '2', '0' }, { '0', '9', '2', '1' }, { '0', '9', '2', '2' }, { '0', '9', '2', '3' }, { '0', '9', '2', '4' }, { '0', '9', '2', '5' }, { '0', '9', '2', '6' }, { '0', '9', '2', '7' }, { '0', '9', '2', '8' }, { '0', '9', '2', '9' }, { '0', '9', '3', '0' },
            { '1', '0', '0', '1' }, { '1', '0', '0', '2' }, { '1', '0', '0', '3' }, { '1', '0', '0', '4' }, { '1', '0', '0', '5' }, { '1', '0', '0', '6' }, { '1', '0', '0', '7' }, { '1', '0', '0', '8' }, { '1', '0', '0', '9' }, { '1', '0', '1', '0' }, { '1', '0', '1', '1' }, { '1', '0', '1', '2' }, { '1', '0', '1', '3' }, { '1', '0', '1', '4' }, { '1', '0', '1', '5' }, { '1', '0', '1', '6' }, { '1', '0', '1', '7' }, { '1', '0', '1', '8' }, { '1', '0', '1', '9' }, { '1', '0', '2', '0' }, { '1', '0', '2', '1' }, { '1', '0', '2', '2' }, { '1', '0', '2', '3' }, { '1', '0', '2', '4' }, { '1', '0', '2', '5' }, { '1', '0', '2', '6' }, { '1', '0', '2', '7' }, { '1', '0', '2', '8' }, { '1', '0', '2', '9' }, { '1', '0', '3', '0' }, { '1', '0', '3', '1' },
            { '1', '1', '0', '1' }, { '1', '1', '0', '2' }, { '1', '1', '0', '3' }, { '1', '1', '0', '4' }, { '1', '1', '0', '5' }, { '1', '1', '0', '6' }, { '1', '1', '0', '7' }, { '1', '1', '0', '8' }, { '1', '1', '0', '9' }, { '1', '1', '1', '0' }, { '1', '1', '1', '1' }, { '1', '1', '1', '2' }, { '1', '1', '1', '3' }, { '1', '1', '1', '4' }, { '1', '1', '1', '5' }, { '1', '1', '1', '6' }, { '1', '1', '1', '7' }, { '1', '1', '1', '8' }, { '1', '1', '1', '9' }, { '1', '1', '2', '0' }, { '1', '1', '2', '1' }, { '1', '1', '2', '2' }, { '1', '1', '2', '3' }, { '1', '1', '2', '4' }, { '1', '1', '2', '5' }, { '1', '1', '2', '6' }, { '1', '1', '2', '7' }, { '1', '1', '2', '8' }, { '1', '1', '2', '9' }, { '1', '1', '3', '0' },
            { '1', '2', '0', '1' }, { '1', '2', '0', '2' }, { '1', '2', '0', '3' }, { '1', '2', '0', '4' }, { '1', '2', '0', '5' }, { '1', '2', '0', '6' }, { '1', '2', '0', '7' }, { '1', '2', '0', '8' }, { '1', '2', '0', '9' }, { '1', '2', '1', '0' }, { '1', '2', '1', '1' }, { '1', '2', '1', '2' }, { '1', '2', '1', '3' }, { '1', '2', '1', '4' }, { '1', '2', '1', '5' }, { '1', '2', '1', '6' }, { '1', '2', '1', '7' }, { '1', '2', '1', '8' }, { '1', '2', '1', '9' }, { '1', '2', '2', '0' }, { '1', '2', '2', '1' }, { '1', '2', '2', '2' }, { '1', '2', '2', '3' }, { '1', '2', '2', '4' }, { '1', '2', '2', '5' }, { '1', '2', '2', '6' }, { '1', '2', '2', '7' }, { '1', '2', '2', '8' }, { '1', '2', '2', '9' }, { '1', '2', '3', '0' }, { '1', '2', '3', '1' } };

    static char[][] daysInLeapYear = { { '0', '1', '0', '1' }, { '0', '1', '0', '2' }, { '0', '1', '0', '3' }, { '0', '1', '0', '4' }, { '0', '1', '0', '5' }, { '0', '1', '0', '6' }, { '0', '1', '0', '7' }, { '0', '1', '0', '8' }, { '0', '1', '0', '9' }, { '0', '1', '1', '0' }, { '0', '1', '1', '1' }, { '0', '1', '1', '2' }, { '0', '1', '1', '3' }, { '0', '1', '1', '4' }, { '0', '1', '1', '5' }, { '0', '1', '1', '6' }, { '0', '1', '1', '7' }, { '0', '1', '1', '8' }, { '0', '1', '1', '9' }, { '0', '1', '2', '0' }, { '0', '1', '2', '1' }, { '0', '1', '2', '2' }, { '0', '1', '2', '3' }, { '0', '1', '2', '4' }, { '0', '1', '2', '5' }, { '0', '1', '2', '6' }, { '0', '1', '2', '7' }, { '0', '1', '2', '8' }, { '0', '1', '2', '9' }, { '0', '1', '3', '0' }, { '0', '1', '3', '1' },
            { '0', '2', '0', '1' }, { '0', '2', '0', '2' }, { '0', '2', '0', '3' }, { '0', '2', '0', '4' }, { '0', '2', '0', '5' }, { '0', '2', '0', '6' }, { '0', '2', '0', '7' }, { '0', '2', '0', '8' }, { '0', '2', '0', '9' }, { '0', '2', '1', '0' }, { '0', '2', '1', '1' }, { '0', '2', '1', '2' }, { '0', '2', '1', '3' }, { '0', '2', '1', '4' }, { '0', '2', '1', '5' }, { '0', '2', '1', '6' }, { '0', '2', '1', '7' }, { '0', '2', '1', '8' }, { '0', '2', '1', '9' }, { '0', '2', '2', '0' }, { '0', '2', '2', '1' }, { '0', '2', '2', '2' }, { '0', '2', '2', '3' }, { '0', '2', '2', '4' }, { '0', '2', '2', '5' }, { '0', '2', '2', '6' }, { '0', '2', '2', '7' }, { '0', '2', '2', '8' }, { '0', '2', '2', '9' },
            { '0', '3', '0', '1' }, { '0', '3', '0', '2' }, { '0', '3', '0', '3' }, { '0', '3', '0', '4' }, { '0', '3', '0', '5' }, { '0', '3', '0', '6' }, { '0', '3', '0', '7' }, { '0', '3', '0', '8' }, { '0', '3', '0', '9' }, { '0', '3', '1', '0' }, { '0', '3', '1', '1' }, { '0', '3', '1', '2' }, { '0', '3', '1', '3' }, { '0', '3', '1', '4' }, { '0', '3', '1', '5' }, { '0', '3', '1', '6' }, { '0', '3', '1', '7' }, { '0', '3', '1', '8' }, { '0', '3', '1', '9' }, { '0', '3', '2', '0' }, { '0', '3', '2', '1' }, { '0', '3', '2', '2' }, { '0', '3', '2', '3' }, { '0', '3', '2', '4' }, { '0', '3', '2', '5' }, { '0', '3', '2', '6' }, { '0', '3', '2', '7' }, { '0', '3', '2', '8' }, { '0', '3', '2', '9' }, { '0', '3', '3', '0' }, { '0', '3', '3', '1' },
            { '0', '4', '0', '1' }, { '0', '4', '0', '2' }, { '0', '4', '0', '3' }, { '0', '4', '0', '4' }, { '0', '4', '0', '5' }, { '0', '4', '0', '6' }, { '0', '4', '0', '7' }, { '0', '4', '0', '8' }, { '0', '4', '0', '9' }, { '0', '4', '1', '0' }, { '0', '4', '1', '1' }, { '0', '4', '1', '2' }, { '0', '4', '1', '3' }, { '0', '4', '1', '4' }, { '0', '4', '1', '5' }, { '0', '4', '1', '6' }, { '0', '4', '1', '7' }, { '0', '4', '1', '8' }, { '0', '4', '1', '9' }, { '0', '4', '2', '0' }, { '0', '4', '2', '1' }, { '0', '4', '2', '2' }, { '0', '4', '2', '3' }, { '0', '4', '2', '4' }, { '0', '4', '2', '5' }, { '0', '4', '2', '6' }, { '0', '4', '2', '7' }, { '0', '4', '2', '8' }, { '0', '4', '2', '9' }, { '0', '4', '3', '0' },
            { '0', '5', '0', '1' }, { '0', '5', '0', '2' }, { '0', '5', '0', '3' }, { '0', '5', '0', '4' }, { '0', '5', '0', '5' }, { '0', '5', '0', '6' }, { '0', '5', '0', '7' }, { '0', '5', '0', '8' }, { '0', '5', '0', '9' }, { '0', '5', '1', '0' }, { '0', '5', '1', '1' }, { '0', '5', '1', '2' }, { '0', '5', '1', '3' }, { '0', '5', '1', '4' }, { '0', '5', '1', '5' }, { '0', '5', '1', '6' }, { '0', '5', '1', '7' }, { '0', '5', '1', '8' }, { '0', '5', '1', '9' }, { '0', '5', '2', '0' }, { '0', '5', '2', '1' }, { '0', '5', '2', '2' }, { '0', '5', '2', '3' }, { '0', '5', '2', '4' }, { '0', '5', '2', '5' }, { '0', '5', '2', '6' }, { '0', '5', '2', '7' }, { '0', '5', '2', '8' }, { '0', '5', '2', '9' }, { '0', '5', '3', '0' }, { '0', '5', '3', '1' },
            { '0', '6', '0', '1' }, { '0', '6', '0', '2' }, { '0', '6', '0', '3' }, { '0', '6', '0', '4' }, { '0', '6', '0', '5' }, { '0', '6', '0', '6' }, { '0', '6', '0', '7' }, { '0', '6', '0', '8' }, { '0', '6', '0', '9' }, { '0', '6', '1', '0' }, { '0', '6', '1', '1' }, { '0', '6', '1', '2' }, { '0', '6', '1', '3' }, { '0', '6', '1', '4' }, { '0', '6', '1', '5' }, { '0', '6', '1', '6' }, { '0', '6', '1', '7' }, { '0', '6', '1', '8' }, { '0', '6', '1', '9' }, { '0', '6', '2', '0' }, { '0', '6', '2', '1' }, { '0', '6', '2', '2' }, { '0', '6', '2', '3' }, { '0', '6', '2', '4' }, { '0', '6', '2', '5' }, { '0', '6', '2', '6' }, { '0', '6', '2', '7' }, { '0', '6', '2', '8' }, { '0', '6', '2', '9' }, { '0', '6', '3', '0' },
            { '0', '7', '0', '1' }, { '0', '7', '0', '2' }, { '0', '7', '0', '3' }, { '0', '7', '0', '4' }, { '0', '7', '0', '5' }, { '0', '7', '0', '6' }, { '0', '7', '0', '7' }, { '0', '7', '0', '8' }, { '0', '7', '0', '9' }, { '0', '7', '1', '0' }, { '0', '7', '1', '1' }, { '0', '7', '1', '2' }, { '0', '7', '1', '3' }, { '0', '7', '1', '4' }, { '0', '7', '1', '5' }, { '0', '7', '1', '6' }, { '0', '7', '1', '7' }, { '0', '7', '1', '8' }, { '0', '7', '1', '9' }, { '0', '7', '2', '0' }, { '0', '7', '2', '1' }, { '0', '7', '2', '2' }, { '0', '7', '2', '3' }, { '0', '7', '2', '4' }, { '0', '7', '2', '5' }, { '0', '7', '2', '6' }, { '0', '7', '2', '7' }, { '0', '7', '2', '8' }, { '0', '7', '2', '9' }, { '0', '7', '3', '0' }, { '0', '7', '3', '1' },
            { '0', '8', '0', '1' }, { '0', '8', '0', '2' }, { '0', '8', '0', '3' }, { '0', '8', '0', '4' }, { '0', '8', '0', '5' }, { '0', '8', '0', '6' }, { '0', '8', '0', '7' }, { '0', '8', '0', '8' }, { '0', '8', '0', '9' }, { '0', '8', '1', '0' }, { '0', '8', '1', '1' }, { '0', '8', '1', '2' }, { '0', '8', '1', '3' }, { '0', '8', '1', '4' }, { '0', '8', '1', '5' }, { '0', '8', '1', '6' }, { '0', '8', '1', '7' }, { '0', '8', '1', '8' }, { '0', '8', '1', '9' }, { '0', '8', '2', '0' }, { '0', '8', '2', '1' }, { '0', '8', '2', '2' }, { '0', '8', '2', '3' }, { '0', '8', '2', '4' }, { '0', '8', '2', '5' }, { '0', '8', '2', '6' }, { '0', '8', '2', '7' }, { '0', '8', '2', '8' }, { '0', '8', '2', '9' }, { '0', '8', '3', '0' }, { '0', '8', '3', '1' },
            { '0', '9', '0', '1' }, { '0', '9', '0', '2' }, { '0', '9', '0', '3' }, { '0', '9', '0', '4' }, { '0', '9', '0', '5' }, { '0', '9', '0', '6' }, { '0', '9', '0', '7' }, { '0', '9', '0', '8' }, { '0', '9', '0', '9' }, { '0', '9', '1', '0' }, { '0', '9', '1', '1' }, { '0', '9', '1', '2' }, { '0', '9', '1', '3' }, { '0', '9', '1', '4' }, { '0', '9', '1', '5' }, { '0', '9', '1', '6' }, { '0', '9', '1', '7' }, { '0', '9', '1', '8' }, { '0', '9', '1', '9' }, { '0', '9', '2', '0' }, { '0', '9', '2', '1' }, { '0', '9', '2', '2' }, { '0', '9', '2', '3' }, { '0', '9', '2', '4' }, { '0', '9', '2', '5' }, { '0', '9', '2', '6' }, { '0', '9', '2', '7' }, { '0', '9', '2', '8' }, { '0', '9', '2', '9' }, { '0', '9', '3', '0' },
            { '1', '0', '0', '1' }, { '1', '0', '0', '2' }, { '1', '0', '0', '3' }, { '1', '0', '0', '4' }, { '1', '0', '0', '5' }, { '1', '0', '0', '6' }, { '1', '0', '0', '7' }, { '1', '0', '0', '8' }, { '1', '0', '0', '9' }, { '1', '0', '1', '0' }, { '1', '0', '1', '1' }, { '1', '0', '1', '2' }, { '1', '0', '1', '3' }, { '1', '0', '1', '4' }, { '1', '0', '1', '5' }, { '1', '0', '1', '6' }, { '1', '0', '1', '7' }, { '1', '0', '1', '8' }, { '1', '0', '1', '9' }, { '1', '0', '2', '0' }, { '1', '0', '2', '1' }, { '1', '0', '2', '2' }, { '1', '0', '2', '3' }, { '1', '0', '2', '4' }, { '1', '0', '2', '5' }, { '1', '0', '2', '6' }, { '1', '0', '2', '7' }, { '1', '0', '2', '8' }, { '1', '0', '2', '9' }, { '1', '0', '3', '0' }, { '1', '0', '3', '1' },
            { '1', '1', '0', '1' }, { '1', '1', '0', '2' }, { '1', '1', '0', '3' }, { '1', '1', '0', '4' }, { '1', '1', '0', '5' }, { '1', '1', '0', '6' }, { '1', '1', '0', '7' }, { '1', '1', '0', '8' }, { '1', '1', '0', '9' }, { '1', '1', '1', '0' }, { '1', '1', '1', '1' }, { '1', '1', '1', '2' }, { '1', '1', '1', '3' }, { '1', '1', '1', '4' }, { '1', '1', '1', '5' }, { '1', '1', '1', '6' }, { '1', '1', '1', '7' }, { '1', '1', '1', '8' }, { '1', '1', '1', '9' }, { '1', '1', '2', '0' }, { '1', '1', '2', '1' }, { '1', '1', '2', '2' }, { '1', '1', '2', '3' }, { '1', '1', '2', '4' }, { '1', '1', '2', '5' }, { '1', '1', '2', '6' }, { '1', '1', '2', '7' }, { '1', '1', '2', '8' }, { '1', '1', '2', '9' }, { '1', '1', '3', '0' },
            { '1', '2', '0', '1' }, { '1', '2', '0', '2' }, { '1', '2', '0', '3' }, { '1', '2', '0', '4' }, { '1', '2', '0', '5' }, { '1', '2', '0', '6' }, { '1', '2', '0', '7' }, { '1', '2', '0', '8' }, { '1', '2', '0', '9' }, { '1', '2', '1', '0' }, { '1', '2', '1', '1' }, { '1', '2', '1', '2' }, { '1', '2', '1', '3' }, { '1', '2', '1', '4' }, { '1', '2', '1', '5' }, { '1', '2', '1', '6' }, { '1', '2', '1', '7' }, { '1', '2', '1', '8' }, { '1', '2', '1', '9' }, { '1', '2', '2', '0' }, { '1', '2', '2', '1' }, { '1', '2', '2', '2' }, { '1', '2', '2', '3' }, { '1', '2', '2', '4' }, { '1', '2', '2', '5' }, { '1', '2', '2', '6' }, { '1', '2', '2', '7' }, { '1', '2', '2', '8' }, { '1', '2', '2', '9' }, { '1', '2', '3', '0' }, { '1', '2', '3', '1' } };

    static char[][] hoursAndminutesAndSeconds = { { '0', '0' }, { '0', '1' }, { '0', '2' }, { '0', '3' }, { '0', '4' }, { '0', '5' }, { '0', '6' }, { '0', '7' }, { '0', '8' }, { '0', '9' }, { '1', '0' }, { '1', '1' }, { '1', '2' }, { '1', '3' }, { '1', '4' }, { '1', '5' }, { '1', '6' }, { '1', '7' }, { '1', '8' }, { '1', '9' }, { '2', '0' }, { '2', '1' }, { '2', '2' }, { '2', '3' }, { '2', '4' }, { '2', '5' }, { '2', '6' }, { '2', '7' }, { '2', '8' }, { '2', '9' }, { '3', '0' }, { '3', '1' }, { '3', '2' }, { '3', '3' }, { '3', '4' }, { '3', '5' }, { '3', '6' }, { '3', '7' }, { '3', '8' }, { '3', '9' }, { '4', '0' }, { '4', '1' }, { '4', '2' }, { '4', '3' }, { '4', '4' }, { '4', '5' }, { '4', '6' }, { '4', '7' }, { '4', '8' }, { '4', '9' }, { '5', '0' }, { '5', '1' }, { '5', '2' }, { '5', '3' }, { '5', '4' }, { '5', '5' }, { '5', '6' }, { '5', '7' }, { '5', '8' }, { '5', '9' } };

    protected DateFormatter() {
    }

    public static void refreshDefaultTimeZone() {
        DEFAULT_TIME_ZONE = TimeZone.getDefault();
    }

    public static String formatISODate(final Date pDate) {
        final long dateMillis = pDate.getTime();
        return formatISODateMillis(dateMillis + DEFAULT_TIME_ZONE.getOffset(dateMillis));
    }

    public static String formatISODateMillis(final long pDateMillis) {
        int year = (int) (pDateMillis / 31536000000L);
        // Ewwww...
        if ((year > 99) || ((pDateMillis - yearsMillis[year]) < 0)) {
            year--;
        }
        final char[] dayString;
        if (leapYears[year]) {
            dayString = daysInLeapYear[(int) ((pDateMillis - yearsMillis[year]) / (86400000L))];
        } else {
            dayString = days[(int) ((pDateMillis - yearsMillis[year]) / (86400000L))];
        }
        final char[] yearChars = years[year];
        final char[] formattedDate = { yearChars[0], yearChars[1], yearChars[2], yearChars[3], '-', dayString[0], dayString[1], '-', dayString[2], dayString[3] };
        return new String(formattedDate);
    }

    public static String formatISODateTime(final Date pDateTime) {
        final long dateTimeMillis = pDateTime.getTime();
        return formatISODateTimeMillis(dateTimeMillis + DEFAULT_TIME_ZONE.getOffset(dateTimeMillis));
    }

    public static String formatISODateTimeMillis(final long pDateTimeMillis) {
        int year = (int) (pDateTimeMillis / 31536000000L);
        // Ewwww...
        if ((year > 99) || ((pDateTimeMillis - yearsMillis[year]) < 0)) {
            year--;
        }
        final char[] dayString;
        final long dayMillis = pDateTimeMillis - yearsMillis[year];
        if (leapYears[year]) {
            dayString = daysInLeapYear[(int) (dayMillis / (86400000L))];
        } else {
            dayString = days[(int) (dayMillis / (86400000L))];
        }
        final long hourMillis = dayMillis % 86400000L;
        final int hour = (int) hourMillis / 3600000;
        final int minuteMillis = (int) hourMillis % 3600000;
        final int minute = minuteMillis / 60000;
        final int second = (minuteMillis % 60000) / 1000;
        final char[] yearChars = years[year];
        final char[] hourChars = hoursAndminutesAndSeconds[hour];
        final char[] minuteChars = hoursAndminutesAndSeconds[minute];
        final char[] secondChars = hoursAndminutesAndSeconds[second];
        final char[] formattedDate = { yearChars[0], yearChars[1], yearChars[2], yearChars[3], '-', dayString[0], dayString[1], '-', dayString[2], dayString[3], 'T', hourChars[0], hourChars[1], ':', minuteChars[0], minuteChars[1], ':', secondChars[0], secondChars[1] };
        return new String(formattedDate);
    }
}